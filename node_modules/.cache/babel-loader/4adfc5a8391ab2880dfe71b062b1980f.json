{"ast":null,"code":"import Connexion from \"@/views/Connexion.vue\";\nimport axios from \"axios\";\nexport default {\n  components: {\n    Connexion\n  },\n\n  data() {\n    let isConnected = false;\n    let isLoading = true;\n    return {\n      isConnected,\n      isLoading\n    };\n  },\n\n  methods: {\n    // Button déconnexion\n    deco() {\n      this.isConnected = false;\n    },\n\n    // Button connexion\n    connect() {\n      this.isConnected = true;\n      this.loading();\n    },\n\n    // Requette a l'api et page de chargement\n    async loading() {\n      this.isLoading = false;\n      let delay = null;\n      this.$store.dispatch(\"set_donnees\", await axios.get(\"http://localhost:5400/search\").then(reponse => reponse.data).then(delay = setInterval(() => {\n        this.isLoading = true;\n        clearInterval(delay);\n      }, 500)).catch(function (error) {\n        console.log(\" error : \", error);\n      }));\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAuBA,OAAOA,SAAP,MAAsB,uBAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,YAAU,EAAE;AACVF;AADU,GADC;;AAIbG,MAAI,GAAG;AACL,QAAIC,WAAU,GAAI,KAAlB;AACA,QAAIC,SAAQ,GAAI,IAAhB;AAEA,WAAO;AACLD,iBADK;AAELC;AAFK,KAAP;AAID,GAZY;;AAabC,SAAO,EAAE;AACP;AACAC,QAAI,GAAG;AACL,WAAKH,WAAL,GAAmB,KAAnB;AACD,KAJM;;AAKP;AACAI,WAAO,GAAG;AACR,WAAKJ,WAAL,GAAmB,IAAnB;AACA,WAAKK,OAAL;AACD,KATM;;AAUP;AACA,UAAMA,OAAN,GAAgB;AACd,WAAKJ,SAAL,GAAiB,KAAjB;AACA,UAAIK,KAAI,GAAI,IAAZ;AACA,WAAKC,MAAL,CAAYC,QAAZ,CACE,aADF,EAEE,MAAMX,KAAI,CACPY,GADG,CACC,8BADD,EAEHC,IAFG,CAEGC,OAAD,IAAaA,OAAO,CAACZ,IAFvB,EAGHW,IAHG,CAIDJ,KAAI,GAAIM,WAAW,CAAC,MAAM;AACzB,aAAKX,SAAL,GAAiB,IAAjB;AACAY,qBAAa,CAACP,KAAD,CAAb;AACD,OAHmB,EAGjB,GAHiB,CAJlB,EASHQ,KATG,CASG,UAAUC,KAAV,EAAiB;AACtBC,eAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBF,KAAzB;AACD,OAXG,CAFR;AAeD;;AA7BM;AAbI,CAAf","names":["Connexion","axios","components","data","isConnected","isLoading","methods","deco","connect","loading","delay","$store","dispatch","get","then","reponse","setInterval","clearInterval","catch","error","console","log"],"sourceRoot":"","sources":["D:\\www\\tristan.labaume\\Année 2021 - 2022\\M. Paul\\projet_vue\\src\\App.vue"],"sourcesContent":["<template>\n  <div v-if=\"isConnected && isLoading\" class=\"main\">\n    <div class=\"nav\">\n      <div class=\"logo\"></div>\n      <router-link to=\"/\"><div class=\"block\">Accueil</div></router-link>\n      <router-link to=\"/visites\"\n        ><div class=\"block\">Mes visites</div></router-link\n      >\n      <router-link to=\"/medecin\"><div class=\"block\">Médecin</div></router-link>\n      <router-link to=\"/medicament\"\n        ><div class=\"block\">Médicament</div></router-link\n      >\n      <button class=\"deco\" v-on:click=\"deco\">Déconnexion</button>\n    </div>\n    <router-view class=\"vue\"></router-view>\n  </div>\n\n  <Connexion v-if=\"!isConnected\" @connect=\"connect\" />\n\n  <div v-if=\"!isLoading\" class=\"loading\">Chargement ...</div>\n</template>\n\n<script>\nimport Connexion from \"@/views/Connexion.vue\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    Connexion,\n  },\n  data() {\n    let isConnected = false;\n    let isLoading = true;\n\n    return {\n      isConnected,\n      isLoading,\n    };\n  },\n  methods: {\n    // Button déconnexion\n    deco() {\n      this.isConnected = false;\n    },\n    // Button connexion\n    connect() {\n      this.isConnected = true;\n      this.loading();\n    },\n    // Requette a l'api et page de chargement\n    async loading() {\n      this.isLoading = false;\n      let delay = null;\n      this.$store.dispatch(\n        \"set_donnees\",\n        await axios\n          .get(\"http://localhost:5400/search\")\n          .then((reponse) => reponse.data)\n          .then(\n            (delay = setInterval(() => {\n              this.isLoading = true;\n              clearInterval(delay);\n            }, 500))\n          )\n          .catch(function (error) {\n            console.log(\" error : \", error);\n          })\n      );\n    },\n  },\n};\n</script>\n\n<style>\n* {\n  margin: 0;\n  padding: 0;\n}\n:root{\n  --main-bg-color: #1b3563;\n}\n.main {\n  width: 100%;\n  min-height: 100%;\n}\n.nav {\n  width: 100%;\n  height: 40px;\n  position: sticky;\n  top: 0px;\n  display: flex;\n  border: 1px solid black;\n  align-items: center;\n  background: grey;\n}\n.block {\n  padding: 5px 20px;\n  margin: 0 2px;\n  border: 1px solid red;\n  cursor: pointer;\n}\n.vue {\n  width: 100%;\n  height: 100%;\n}\n.connexion {\n  width: 100%;\n  height: 100%;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}